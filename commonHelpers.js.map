{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import '../css/styles.css';\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet selectedDate;\n        let countdownInterval;\n\n        document.addEventListener(\"DOMContentLoaded\", function() {\n            flatpickr(\"#datetime-picker\", {\n                enableTime: true,\n                time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n                onChange: function(selectedDates, dateStr, instance) {\n                    selectedDate = selectedDates[0];\n                    const now = new Date();\n                    const startButton = document.querySelector('[data-start]');\n\n                    if (selectedDate <= now) {\n                        startButton.disabled = true;\n                        iziToast.error({\n                            title: 'Error',\n                            message: 'Please choose a date in the future',\n                        });\n                    } else {\n                        startButton.disabled = false;\n                    }\n                }\n            });\n\n            document.querySelector('[data-start]').addEventListener('click', function() {\n                this.disabled = true;\n                startCountdown(selectedDate);\n            });\n        });\n\n        function startCountdown(endDate) {\n            clearInterval(countdownInterval);\n            countdownInterval = setInterval(function() {\n                const now = new Date();\n                const timeRemaining = endDate - now;\n\n                if (timeRemaining <= 0) {\n                    clearInterval(countdownInterval);\n                    updateTimerDisplay(0, 0, 0, 0);\n                    return;\n                }\n\n                const time = convertMs(timeRemaining);\n                updateTimerDisplay(time.days, time.hours, time.minutes, time.seconds);\n            }, 1000);\n        }\n\n        function updateTimerDisplay(days, hours, minutes, seconds) {\n            document.querySelector('[data-days]').textContent = formatTime(days);\n            document.querySelector('[data-hours]').textContent = formatTime(hours);\n            document.querySelector('[data-minutes]').textContent = formatTime(minutes);\n            document.querySelector('[data-seconds]').textContent = formatTime(seconds);\n        }\n\n        function formatTime(unit) {\n            return unit < 10 ? '0' + unit : unit;\n        }\n\n        function convertMs(ms) {\n            const second = 1000;\n            const minute = second * 60;\n            const hour = minute * 60;\n            const day = hour * 24;\n\n            const days = Math.floor(ms / day);\n            const hours = Math.floor((ms % day) / hour);\n            const minutes = Math.floor(((ms % day) % hour) / minute);\n            const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n            return { days, hours, minutes, seconds };\n        }\n\n\n\n    \n\n\n"],"names":["selectedDate","countdownInterval","flatpickr","selectedDates","dateStr","instance","now","startButton","iziToast","startCountdown","endDate","timeRemaining","updateTimerDisplay","time","convertMs","days","hours","minutes","seconds","formatTime","unit","ms"],"mappings":"0IAMA,IAAIA,EACQC,EAEJ,SAAS,iBAAiB,mBAAoB,UAAW,CACrDC,EAAU,mBAAoB,CAC1B,WAAY,GACZ,UAAW,GACzB,YAAa,IAAI,KACjB,gBAAiB,EACH,SAAU,SAASC,EAAeC,EAASC,EAAU,CACjDL,EAAeG,EAAc,CAAC,EAC9B,MAAMG,EAAM,IAAI,KACVC,EAAc,SAAS,cAAc,cAAc,EAErDP,GAAgBM,GAChBC,EAAY,SAAW,GACvBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,oCACrC,CAAyB,GAEDD,EAAY,SAAW,EAE9B,CACjB,CAAa,EAED,SAAS,cAAc,cAAc,EAAE,iBAAiB,QAAS,UAAW,CACxE,KAAK,SAAW,GAChBE,EAAeT,CAAY,CAC3C,CAAa,CACb,CAAS,EAED,SAASS,EAAeC,EAAS,CAC7B,cAAcT,CAAiB,EAC/BA,EAAoB,YAAY,UAAW,CAEvC,MAAMU,EAAgBD,EADV,IAAI,KAGhB,GAAIC,GAAiB,EAAG,CACpB,cAAcV,CAAiB,EAC/BW,EAAmB,EAAG,EAAG,EAAG,CAAC,EAC7B,MACH,CAED,MAAMC,EAAOC,EAAUH,CAAa,EACpCC,EAAmBC,EAAK,KAAMA,EAAK,MAAOA,EAAK,QAASA,EAAK,OAAO,CACvE,EAAE,GAAI,CACV,CAED,SAASD,EAAmBG,EAAMC,EAAOC,EAASC,EAAS,CACvD,SAAS,cAAc,aAAa,EAAE,YAAcC,EAAWJ,CAAI,EACnE,SAAS,cAAc,cAAc,EAAE,YAAcI,EAAWH,CAAK,EACrE,SAAS,cAAc,gBAAgB,EAAE,YAAcG,EAAWF,CAAO,EACzE,SAAS,cAAc,gBAAgB,EAAE,YAAcE,EAAWD,CAAO,CAC5E,CAED,SAASC,EAAWC,EAAM,CACtB,OAAOA,EAAO,GAAK,IAAMA,EAAOA,CACnC,CAED,SAASN,EAAUO,EAAI,CAMnB,MAAMN,EAAO,KAAK,MAAMM,EAAK,KAAG,EAC1BL,EAAQ,KAAK,MAAOK,EAAK,MAAO,IAAI,EACpCJ,EAAU,KAAK,MAAQI,EAAK,MAAO,KAAQ,GAAM,EACjDH,EAAU,KAAK,MAASG,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAN,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAClD"}